<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>React [RU] Tutorial v2</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>

    <style>
        .red {
            color: #FF0000;
        }

        .none {
            display: none;
        }
    </style>
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">

        const myNews = [
            {

                id: 1, // добавили id
                author: 'Саша Печкин',
                text: 'В четверг, четвертого числа...'
            },
            {
                id: 2,
                author: 'Просто Вася',
                text: 'Считаю, что $ должен стоить 35 рублей!'
            },
            {
                id: 3,
                author: 'Max Frontend',
                text: 'Прошло 2 года с прошлых учебников, а $ так и не стоит 35'
            },
            {
                id: 4,
                author: 'Гость',
                text: 'Бесплатно. Без смс, про реакт, заходи - '
            }
        ];

        const noNews = [
            <div>новостей нет</div>
        ];

        // class News extends React.Component {
        //     render() {
        //         if (myNews.length != 0) {
        //             const newsTemplate = this.props.data.map(function (item) {
        //                 return (
        //                     <div key={item.id}> {/* используем id в качестве ключа */}
        //                         <p className="news__author">{item.author}:</p>
        //                         <p className="news__text">{item.text}</p>
        //                     </div>
        //                 )
        //             })
        //             return (
        //                 <div className="news">
        //                     {newsTemplate}
        //                 </div>
        //             )
        //         } else {

        //             return (
        //                 <div> новостей тупо ноль </div>
        //             )
        //         }
        //     }
        // }


        class News extends React.Component {
            render() {
                const { data } = this.props // аналогично записи const data = this.props.data
                let newsTemplate
                if (data.length) { // если новости есть, пробегись map'ом
                    newsTemplate = data.map(function (item) {
                        return (
                            <div key={item.id}>
                                <p className="news__author">{item.author}:</p>
                                <p className="news__text">{item.text}</p>
                            </div>
                        )
                    })
                } else { // если новостей нет - сохрани в переменную параграф
                    newsTemplate = <p>К сожалению новостей нет</p>
                }
                return (
                    <div className="news">
                        {newsTemplate}
                        {/* <strong className={data.length > 0 ? '' : 'none'}>Всего новостей: {data.length}</strong>*/}
                        {
                            data.length ? <strong>Всего новостей: {data.length}</strong> : null
                        }
                    </div>
                );
            }
        }

        const Comments = () => {
            return <p>Нет новостей - комментировать нечего.</p>
        }

        // const CountNews = () => {
        //     console.log(myNews.length)
        //     if (myNews.length <= 0) {
        //         return (
        //             <div> новостей тупо ноль </div>
        //         )
        //     } else {
        //         return (
        //             <div>
        //                 <p> количество новостей: {myNews.length} </p>
        //             </div>
        //         )

        //     }

        // }
        const App = () => {
            return (
                <React.Fragment>
                    <News data={myNews} />
                    <Comments />
                </React.Fragment>
            )
        }

        // return (
        //     <React.Fragment>
        //         <News loh={myNews} /> {/* добавили свойство data */}
        //         <div>
        //             hello, {props.author}
        //         </div>
        //     </React.Fragment>
        // )

        ReactDOM.render(
            <App />,
            document.getElementById('root')
        );


    </script>

</body>

</html>